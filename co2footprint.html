<!DOCTYPE html>
<html lang="de">

<head>
    <title>WTCO2 - Worldwide Tracking of CO2</title>
    <style type="text/css">

        body {
            font-family: system-ui; 
            width: 80%;
            margin-left: auto;
            margin-right: auto;
            margin-top: 3em;
        }
        nav li, form {
            display:inline;
        }
        header, footer nav ul {
            text-align: right;
        }
        main nav ul {
            padding:0%;
            text-align: left;
        }
        input {
            height: 1em;
            padding: 0.5em;
            border: 1px solid #d5e0e9;
            border-radius: 0.2em;
        }
        a {
            text-decoration: none; 
            color:rgb(21, 100, 14);
            margin:0.5em
        }
        a:hover {
            color:rgb(26, 133, 17);
        }
        table {
            width: 100%;
            margin: 0.5em;
            border-collapse: collapse;
        }
        thead td, thead th {
            border-width: 2px;
            font-weight: normal;
        }
        td, th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 3px;
        }
        th {
            background-color: #5cb85c; /* Hintergrundfarbe für den Header */
            color: #fff; /* Textfarbe für den Header */
            cursor: pointer; /* Macht den Tabellen Header klickbar */
            position: relative;
        }
        tr:nth-child(even) {
            background-color: #ffffff; /* Macht alle Zeilen weiß */
        }
        .filter-container {
            margin-bottom: 10px;
        }
        .filter-dropdown {
            padding: 5px;
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <header>
        <img src="logo.JPG" height="200" width="400">
            <nav>
                <ul>
                    <li>
                        <form>
                            <input type="text" name="suche" placeholder="Suche">
                        </form>
                    </li>
                    <li><a href="https://www.instagram.com/wtco2">Instagram</a></li>
                    <li><a href="https://www.facebook.com/wtco2">Facebook</a></li>
                    
                </ul>
            </nav>
    </header>
    <main>
        
        <nav>
            <ul>
                <li><a href="home.html">Homepage</a></li>
                <li><a href="philo.html">Unsere Philosphie</a></li>
            </ul>
        
        </nav>
        <section>
            <h1>WTCO2 - Worldwide Tracking of CO2</h1>
            <p>
                Test1
            </p>
        </section>
        <section>
            <h2>Unser Ziel</h2>
            <p>
                Wir sind spezialisiert auf die Erforschung des akuten Klimawandels, welcher sukzessive voranschreitet. Daher schaffen wir eine Übersicht über die Übeltäter.
            </p>
        </section>
        <section><br>
            <h2>CO2 Ausstoß nach Länder und Firmen</h2>
            <div class="filter-container">
                <label for="filterLand">Land:</label>
                <select id="filterLand" class="filter-dropdown" onchange="filterTable(0)">
                    <option value="">Alle</option>
                </select>
                <label for="filterFirma">Verantwortliche Firma:</label>
                <select id="filterFirma" class="filter-dropdown" onchange="filterTable(1)">
                    <option value="">Alle</option>
                </select>
                <label for="filterCO2">CO2 Ausstoß (Mio t):</label>
                <select id="filterCO2" class="filter-dropdown" onchange="filterTable(2)">
                    <option value="">Alle</option>
                </select>
            </div>
    <table id="co2Table">
        <thead>
          <tr>
            <th onclick="sortTable(0)" data-column="0">Land</th>
            <th onclick="sortTable(1)" data-column="1">Firma</th>
            <th onclick="sortTable(2)" data-column="2">CO2 (Mio t)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>USA</td>
            <td>TexMEX</td>
            <td>600</td>
          </tr>
          <tr>
            <td>USA</td>
            <td>Apple</td>
            <td>200</td>
          </tr>
          <tr>
            <td>USA</td>
            <td>Microsoft</td>
            <td>150</td>
          </tr>
          <tr>
            <td>China</td>
            <td>BYD</td>
            <td>325</td>
          </tr>
          <tr>
            <td>China</td>
            <td>AtomElec</td>
            <td>1.500</td>
          </tr>
          <tr>
            <td>Russland</td>
            <td>Gazprom</td>
            <td>700</td>
          </tr>
          <tr>
            <td>Indien</td>
            <td>Panjabi-Industries</td>
            <td>450</td>
          </tr>
          <tr>
            <td>Japan</td>
            <td>Toyota</td>
            <td>350</td>
          </tr>
          <tr>
            <td>Deutschland</td>
            <td>Volkswagen</td>
            <td>320</td>
          </tr>
          <tr>
            <td>Südkorea</td>
            <td>Hyundai</td>
            <td>310</td>
          </tr>
          <tr>
            <td>Iran</td>
            <td>Esfahan Oil</td>
            <td>688</td>
          </tr>
          <tr>
            <td>Saudi-Arabien</td>
            <td>Saudi Aramco</td>
            <td>240</td>
          </tr>
          <tr>
            <td>Kanada</td>
            <td>Canadian Oil</td>
            <td>230</td>
          </tr>
        </tbody>
      </table>
      <script>
        var sortingColumn = null;
        var ascending = true;
        
        function sortTable(columnIndex) {
            var table, rows, switching, i, x, y, shouldSwitch;
            table = document.getElementById("co2Table");
            switching = true;
            while (switching) {
                switching = false;
                rows = table.rows;
                for (i = 1; i < (rows.length - 1); i++) {
                    shouldSwitch = false;
                    x = rows[i].getElementsByTagName("td")[columnIndex];
                    y = rows[i + 1].getElementsByTagName("td")[columnIndex];
                    var xValue = isNaN(x.innerHTML) ? x.innerHTML.toLowerCase() : parseFloat(x.innerHTML);
                    var yValue = isNaN(y.innerHTML) ? y.innerHTML.toLowerCase() : parseFloat(y.innerHTML);
                    if (ascending ? (xValue > yValue) : (xValue < yValue)) {
                        shouldSwitch = true;
                        break;
                    }
                }
                if (shouldSwitch) {
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                    switching = true;
                }
            }
            // Toggle ascending/descending
            ascending = !ascending;
            sortingColumn = columnIndex;
        }
        
        function filterTable(columnIndex) {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("filter" + (columnIndex === 0 ? "Land" : columnIndex === 1 ? "Firma" : "CO2"));
            filter = input.value.toUpperCase();
            table = document.getElementById("co2Table");
            tr = table.getElementsByTagName("tr");
            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[columnIndex];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        
            // Zurücksetzen der anderen Dropdowns
            var dropdowns = document.querySelectorAll(".filter-dropdown");
            dropdowns.forEach(function(dropdown, index) {
                if (index !== columnIndex) {
                    dropdown.value = "";
                }
            });
        }
        
        // Funktion zum Befüllen der Dropdown-Menüs mit einzigartigen Werten aus jeder Spalte
        function populateDropdowns() {
            var dropdowns = document.querySelectorAll(".filter-dropdown");
            dropdowns.forEach(function(dropdown, index) {
                var uniqueValues = getUniqueColumnValues(index);
                uniqueValues.sort(); // Sortiere die Werte alphabetisch
                uniqueValues.forEach(function(value) {
                    var option = document.createElement("option");
                    option.text = value;
                    dropdown.add(option);
                });
            });
        }
        
        // Funktion zum Abrufen der einzigartigen Werte aus einer Spalte
        function getUniqueColumnValues(columnIndex) {
            var table = document.getElementById("co2Table");
            var uniqueValues = [];
            var rows = table.rows;
            for (var i = 1; i < rows.length; i++) {
                var cell = rows[i].cells[columnIndex];
                var cellValue = cell.textContent.trim();
                if (!uniqueValues.includes(cellValue)) {
                    uniqueValues.push(cellValue);
                }
            }
            return uniqueValues;
        }
        
        // Beim Laden der Seite Dropdown-Menüs erstellen und Event Listener hinzufügen
        document.addEventListener("DOMContentLoaded", function() {
            populateDropdowns();
        });
        
        </script>
        </section>
    </main>
    <footer>
        <nav>
            <ul>
                <li><a href="contact.html">Kontakt</a></li>
                <li><a href="privacy.html">Datenschutz</a></li>
                <li><a href="imprint.html">Impressum</a></li>
            </ul>
        </nav>
    </footer>
    
</body>

</html>
